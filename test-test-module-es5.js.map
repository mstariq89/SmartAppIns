{"version":3,"sources":["src/app/test/test1/test1.component.html","src/app/test/test-routing.module.ts","src/app/test/test.module.ts","src/app/test/test1/test1.component.css","src/app/test/test1/test1.component.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<p>test1 works!</p>\\r\\n\\r\\n<h1>Medications for <span id=\\\"name\\\"></span></h1>\\r\\n<ul id=\\\"med_list\\\"></ul>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { Test1Component } from './test1/test1.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        redirectTo: '/test/test1',\r\n        component: Test1Component\r\n    },\r\n    {\r\n        path: 'test1',\r\n        component: Test1Component\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class TestRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TestRoutingModule } from './test-routing.module';\r\n\r\nimport { Test1Component } from './test1/test1.component';\r\n\r\nexport const CONTAINERS = [\r\n  Test1Component,\r\n];\r\n\r\n@NgModule({\r\n  declarations: [CONTAINERS],\r\n  exports: [CONTAINERS],\r\n  imports: [\r\n    CommonModule,\r\n    TestRoutingModule\r\n  ],\r\n})\r\nexport class TestModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Rlc3QvdGVzdDEvdGVzdDEuY29tcG9uZW50LmNzcyJ9 */\"","/// <reference types=\"@types/fhir-js-client\" />\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-test1',\r\n  templateUrl: './test1.component.html',\r\n  styleUrls: ['./test1.component.css']\r\n})\r\nexport class Test1Component implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    test();\r\n  }\r\n\r\n}\r\n\r\nfunction test() {\r\n  function getPatientName(pt) {\r\n    if (pt.name) {\r\n      var names = pt.name.map(function (name) {\r\n        return name.given.join(\" \") + \" \" + name.family.join(\" \");\r\n      });\r\n      return names.join(\" / \")\r\n    } else {\r\n      return \"anonymous\";\r\n    }\r\n  }\r\n\r\n  function getMedicationName(medCodings) {\r\n    var coding = medCodings.find(function (c) {\r\n      return c.system == \"http://www.nlm.nih.gov/research/umls/rxnorm\";\r\n    });\r\n\r\n    return coding && coding.display || \"Unnamed Medication(TM)\"\r\n  }\r\n\r\n  function displayPatient(pt) {\r\n    document.getElementById('name').innerHTML = getPatientName(pt);\r\n  }\r\n\r\n  var med_list = document.getElementById('med_list');\r\n\r\n  function displayMedication(medCodings) {\r\n    med_list.innerHTML += \"<li> \" + getMedicationName(medCodings) + \"</li>\";\r\n  }\r\n\r\n  FHIR.oauth2.ready(function (smart) {\r\n    smart.patient.read().then(function (pt) {\r\n      displayPatient(pt);\r\n    });\r\n    smart.patient.api.fetchAllWithReferences({ type: \"MedicationOrder\" }, [\"MedicationOrder.medicationReference\"]).then(function (results, refs) {\r\n      results.forEach(function (prescription) {\r\n        if (prescription.medicationCodeableConcept) {\r\n          displayMedication(prescription.medicationCodeableConcept.coding);\r\n        } else if (prescription.medicationReference) {\r\n          var med = refs(prescription, prescription.medicationReference);\r\n          displayMedication(med && med.code.coding || []);\r\n        }\r\n      });\r\n    });\r\n  });\r\n}\r\n"],"sourceRoot":"webpack:///"}